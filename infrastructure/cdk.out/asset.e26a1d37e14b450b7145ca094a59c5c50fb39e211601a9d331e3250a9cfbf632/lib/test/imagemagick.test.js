"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const sharp = require("sharp");
const imagemagick_1 = require("../src/imagemagick");
const utils_1 = require("./processor/image/utils");
test.skip('imagemagick convert', async () => {
    const { buffer } = await utils_1.fixtureStore.get('example.jpg');
    const bufout = await (0, imagemagick_1.convert)(buffer, ['-resize', '10%']);
    const metadata = await sharp(bufout).metadata();
    expect(metadata.width).toBe(40);
    expect(metadata.height).toBe(27);
});
test.skip('imagemagick identify', async () => {
    const { buffer } = await utils_1.fixtureStore.get('example.jpg');
    const bufout = await (0, imagemagick_1.identify)(buffer, ['-format', '%Q']);
    expect(bufout.toString()).toBe('82');
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1hZ2VtYWdpY2sudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3Rlc3QvaW1hZ2VtYWdpY2sudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLCtCQUErQjtBQUMvQixvREFBdUQ7QUFDdkQsbURBQXVEO0FBRXZELElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsS0FBSyxJQUFJLEVBQUU7SUFDMUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxHQUFHLE1BQU0sb0JBQVksQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDekQsTUFBTSxNQUFNLEdBQUcsTUFBTSxJQUFBLHFCQUFPLEVBQUMsTUFBTSxFQUFFLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDekQsTUFBTSxRQUFRLEdBQUcsTUFBTSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7SUFFaEQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDaEMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDbkMsQ0FBQyxDQUFDLENBQUM7QUFFSCxJQUFJLENBQUMsSUFBSSxDQUFDLHNCQUFzQixFQUFFLEtBQUssSUFBSSxFQUFFO0lBQzNDLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxNQUFNLG9CQUFZLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3pELE1BQU0sTUFBTSxHQUFHLE1BQU0sSUFBQSxzQkFBUSxFQUFDLE1BQU0sRUFBRSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBRXpELE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDdkMsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBzaGFycCBmcm9tICdzaGFycCc7XG5pbXBvcnQgeyBjb252ZXJ0LCBpZGVudGlmeSB9IGZyb20gJy4uL3NyYy9pbWFnZW1hZ2ljayc7XG5pbXBvcnQgeyBmaXh0dXJlU3RvcmUgfSBmcm9tICcuL3Byb2Nlc3Nvci9pbWFnZS91dGlscyc7XG5cbnRlc3Quc2tpcCgnaW1hZ2VtYWdpY2sgY29udmVydCcsIGFzeW5jICgpID0+IHtcbiAgY29uc3QgeyBidWZmZXIgfSA9IGF3YWl0IGZpeHR1cmVTdG9yZS5nZXQoJ2V4YW1wbGUuanBnJyk7XG4gIGNvbnN0IGJ1Zm91dCA9IGF3YWl0IGNvbnZlcnQoYnVmZmVyLCBbJy1yZXNpemUnLCAnMTAlJ10pO1xuICBjb25zdCBtZXRhZGF0YSA9IGF3YWl0IHNoYXJwKGJ1Zm91dCkubWV0YWRhdGEoKTtcblxuICBleHBlY3QobWV0YWRhdGEud2lkdGgpLnRvQmUoNDApO1xuICBleHBlY3QobWV0YWRhdGEuaGVpZ2h0KS50b0JlKDI3KTtcbn0pO1xuXG50ZXN0LnNraXAoJ2ltYWdlbWFnaWNrIGlkZW50aWZ5JywgYXN5bmMgKCkgPT4ge1xuICBjb25zdCB7IGJ1ZmZlciB9ID0gYXdhaXQgZml4dHVyZVN0b3JlLmdldCgnZXhhbXBsZS5qcGcnKTtcbiAgY29uc3QgYnVmb3V0ID0gYXdhaXQgaWRlbnRpZnkoYnVmZmVyLCBbJy1mb3JtYXQnLCAnJVEnXSk7XG5cbiAgZXhwZWN0KGJ1Zm91dC50b1N0cmluZygpKS50b0JlKCc4MicpO1xufSk7Il19