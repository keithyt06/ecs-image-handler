"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const sharp = require("sharp");
const resize_1 = require("../../../src/processor/image/resize");
const store_1 = require("../../../src/store");
const utils_1 = require("./utils");
test('resize,l_100', async () => {
    const ctx = await (0, utils_1.mkctx)('example.jpg');
    const action = new resize_1.ResizeAction();
    await action.process(ctx, 'resize,l_100'.split(','));
    const { info } = await ctx.image.toBuffer({ resolveWithObject: true });
    expect(info.width).toBe(100);
    expect(info.height).toBe(67);
});
test('resize,s_100', async () => {
    const ctx = await (0, utils_1.mkctx)('example.jpg');
    const action = new resize_1.ResizeAction();
    await action.process(ctx, 'resize,s_100'.split(','));
    const { info } = await ctx.image.toBuffer({ resolveWithObject: true });
    expect(info.width).toBe(150);
    expect(info.height).toBe(100);
});
test('resize,s_100,l_100', async () => {
    const ctx = await (0, utils_1.mkctx)('example.jpg');
    const action = new resize_1.ResizeAction();
    await action.process(ctx, 'resize,s_100,l_100'.split(','));
    const { info } = await ctx.image.toBuffer({ resolveWithObject: true });
    expect(info.width).toBe(100);
    expect(info.height).toBe(67);
});
test('resize,l_100,s_100,m_fixed,limit_0', async () => {
    const ctx = await (0, utils_1.mkctx)('example.jpg');
    const action = new resize_1.ResizeAction();
    await action.process(ctx, 'resize,l_100,s_100,m_fixed,limit_0'.split(','));
    const { info } = await ctx.image.toBuffer({ resolveWithObject: true });
    expect(info.width).toBe(100);
    expect(info.height).toBe(100);
});
test('animated gif: resize,w_100', async () => {
    const ctx = await (0, utils_1.mkctx)('example.gif', []);
    const action = new resize_1.ResizeAction();
    await action.process(ctx, 'resize,w_100'.split(','));
    const { data, info } = await ctx.image.toBuffer({ resolveWithObject: true });
    expect(info.width).toBe(100);
    expect(info.format).toBe('gif');
    const metadata = await sharp(data, { animated: true }).metadata();
    expect(metadata.pages).toBe(3);
});
test('resize action validate', () => {
    const action = new resize_1.ResizeAction();
    const param1 = action.validate('resize,m_mfit,h_100,w_100,,'.split(','));
    const param2 = action.validate('resize,m_fill,h_0,w_0,,'.split(','));
    expect(param1).toEqual({
        w: 100,
        h: 100,
        m: 'mfit',
        limit: true,
        color: '#FFFFFF',
    });
    expect(param2).toEqual({
        w: 0,
        h: 0,
        m: 'fill',
        limit: true,
        color: '#FFFFFF',
    });
    expect(() => {
        action.validate('resize,m_unkown'.split(','));
    }).toThrowError(/Unkown m/);
    expect(() => {
        action.validate('resize,m_'.split(','));
    }).toThrowError(/Unkown m/);
    expect(() => {
        action.validate('resize,xx'.split(','));
    }).toThrowError(/Unkown param/);
});
test('resize action simple', async () => {
    const bs = new store_1.SharpBufferStore(sharp({
        create: {
            width: 50,
            height: 50,
            channels: 3,
            background: 'red',
        },
    }).png());
    const ctx = await (0, utils_1.mkctx)('', undefined, bs);
    const action = new resize_1.ResizeAction();
    await action.process(ctx, 'resize,w_10,h_10'.split(','));
    const { info } = await ctx.image.toBuffer({ resolveWithObject: true });
    expect(info.width).toBe(10);
    expect(info.height).toBe(10);
});
test('resize action m_lfit', async () => {
    const bs = new store_1.SharpBufferStore(sharp({
        create: {
            width: 200,
            height: 100,
            channels: 3,
            background: 'gray',
        },
    }).png());
    const ctx = await (0, utils_1.mkctx)('', undefined, bs);
    const action = new resize_1.ResizeAction();
    await action.process(ctx, 'resize,w_150,h_80,m_lfit'.split(','));
    const { info } = await ctx.image.toBuffer({ resolveWithObject: true });
    expect(info.width).toBe(150);
    expect(info.height).toBe(75);
});
test('resize action m_mfit', async () => {
    const bs = new store_1.SharpBufferStore(sharp({
        create: {
            width: 200,
            height: 100,
            channels: 3,
            background: 'gray',
        },
    }).png());
    const ctx = await (0, utils_1.mkctx)('', undefined, bs);
    const action = new resize_1.ResizeAction();
    await action.process(ctx, 'resize,w_150,h_80,m_mfit'.split(','));
    const { info } = await ctx.image.toBuffer({ resolveWithObject: true });
    expect(info.width).toBe(160);
    expect(info.height).toBe(80);
});
test('resize action m_fill', async () => {
    const bs = new store_1.SharpBufferStore(sharp({
        create: {
            width: 200,
            height: 100,
            channels: 3,
            background: 'gray',
        },
    }).png());
    const ctx = await (0, utils_1.mkctx)('', undefined, bs);
    const action = new resize_1.ResizeAction();
    await action.process(ctx, 'resize,w_150,h_80,m_fill'.split(','));
    const { info } = await ctx.image.toBuffer({ resolveWithObject: true });
    expect(info.width).toBe(150);
    expect(info.height).toBe(80);
});
test('resize action m_pad', async () => {
    const bs = new store_1.SharpBufferStore(sharp({
        create: {
            width: 200,
            height: 100,
            channels: 3,
            background: 'gray',
        },
    }).png());
    const ctx = await (0, utils_1.mkctx)('', undefined, bs);
    const action = new resize_1.ResizeAction();
    await action.process(ctx, 'resize,w_150,h_80,m_pad'.split(','));
    const { info } = await ctx.image.toBuffer({ resolveWithObject: true });
    expect(info.width).toBe(150);
    expect(info.height).toBe(80);
});
test('resize action p_100', async () => {
    const bs = new store_1.SharpBufferStore(sharp({
        create: {
            width: 100,
            height: 100,
            channels: 3,
            background: 'gray',
        },
    }).png());
    const ctx = await (0, utils_1.mkctx)('', undefined, bs);
    const action = new resize_1.ResizeAction();
    await action.process(ctx, 'resize,p_100'.split(','));
    const { info } = await ctx.image.toBuffer({ resolveWithObject: true });
    expect(info.width).toBe(100);
    expect(info.height).toBe(100);
});
test('resize action p_50', async () => {
    const bs = new store_1.SharpBufferStore(sharp({
        create: {
            width: 100,
            height: 100,
            channels: 3,
            background: 'gray',
        },
    }).png());
    const ctx = await (0, utils_1.mkctx)('', undefined, bs);
    const action = new resize_1.ResizeAction();
    await action.process(ctx, 'resize,p_50'.split(','));
    const { info } = await ctx.image.toBuffer({ resolveWithObject: true });
    expect(info.width).toBe(50);
    expect(info.height).toBe(50);
});
test('resize action p_1000', async () => {
    const bs = new store_1.SharpBufferStore(sharp({
        create: {
            width: 100,
            height: 100,
            channels: 3,
            background: 'gray',
        },
    }).png());
    const ctx = await (0, utils_1.mkctx)('', undefined, bs);
    const action = new resize_1.ResizeAction();
    await action.process(ctx, 'resize,p_1000'.split(','));
    const { info } = await ctx.image.toBuffer({ resolveWithObject: true });
    expect(info.width).toBe(1000);
    expect(info.height).toBe(1000);
});
test('resize action disable limit', async () => {
    const bs = new store_1.SharpBufferStore(sharp({
        create: {
            width: 20,
            height: 20,
            channels: 3,
            background: 'gray',
        },
    }).png());
    const ctx = await (0, utils_1.mkctx)('', undefined, bs);
    const action = new resize_1.ResizeAction();
    await action.process(ctx, 'resize,w_100,h_100,limit_0'.split(','));
    const { info } = await ctx.image.toBuffer({ resolveWithObject: true });
    expect(info.width).toBe(100);
    expect(info.height).toBe(100);
});
test('resize action enable limit', async () => {
    const bs = new store_1.SharpBufferStore(sharp({
        create: {
            width: 20,
            height: 20,
            channels: 3,
            background: 'gray',
        },
    }).png());
    const ctx = await (0, utils_1.mkctx)('', undefined, bs);
    const action = new resize_1.ResizeAction();
    await action.process(ctx, 'resize,w_100,h_100,limit_1'.split(','));
    const { info } = await ctx.image.toBuffer({ resolveWithObject: true });
    expect(info.width).toBe(20);
    expect(info.height).toBe(20);
});
test('resize action bad limit', async () => {
    const bs = new store_1.SharpBufferStore(sharp({
        create: {
            width: 20,
            height: 20,
            channels: 3,
            background: 'gray',
        },
    }).png());
    const ctx = await (0, utils_1.mkctx)('', undefined, bs);
    const action = new resize_1.ResizeAction();
    void expect(action.process(ctx, 'resize,w_100,h_100,limit_3'.split(','))).rejects.toThrowError(/Unkown limit/);
});
// NOTE: Seems that Sharp.js will use origin image's aspect ratio instead of
// intermediate image's aspect ratio
test.skip('resize action m_fixed m_lfit', async () => {
    const bs = new store_1.SharpBufferStore(sharp({
        create: {
            width: 400,
            height: 300,
            channels: 3,
            background: 'gray',
        },
    }).png());
    const ctx = await (0, utils_1.mkctx)('', undefined, bs);
    const action = new resize_1.ResizeAction();
    await action.process(ctx, 'resize,w_200,h_100,m_fixed'.split(','));
    await action.process(ctx, 'resize,w_150,h_100,m_lfit'.split(','));
    const { info } = await ctx.image.toBuffer({ resolveWithObject: true });
    expect(info.width).toBe(150);
    expect(info.height).toBe(75);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzaXplLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi90ZXN0L3Byb2Nlc3Nvci9pbWFnZS9yZXNpemUudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLCtCQUErQjtBQUMvQixnRUFBbUU7QUFDbkUsOENBQXNEO0FBQ3RELG1DQUFnQztBQUdoQyxJQUFJLENBQUMsY0FBYyxFQUFFLEtBQUssSUFBSSxFQUFFO0lBQzlCLE1BQU0sR0FBRyxHQUFHLE1BQU0sSUFBQSxhQUFLLEVBQUMsYUFBYSxDQUFDLENBQUM7SUFFdkMsTUFBTSxNQUFNLEdBQUcsSUFBSSxxQkFBWSxFQUFFLENBQUM7SUFDbEMsTUFBTSxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxjQUFjLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFFckQsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLE1BQU0sR0FBRyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFBRSxpQkFBaUIsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBRXZFLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzdCLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQy9CLENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLGNBQWMsRUFBRSxLQUFLLElBQUksRUFBRTtJQUM5QixNQUFNLEdBQUcsR0FBRyxNQUFNLElBQUEsYUFBSyxFQUFDLGFBQWEsQ0FBQyxDQUFDO0lBRXZDLE1BQU0sTUFBTSxHQUFHLElBQUkscUJBQVksRUFBRSxDQUFDO0lBQ2xDLE1BQU0sTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsY0FBYyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBRXJELE1BQU0sRUFB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QUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUV2RSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM3QixNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUMvQixDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHNoYXJwIGZyb20gJ3NoYXJwJztcbmltcG9ydCB7IFJlc2l6ZUFjdGlvbiB9IGZyb20gJy4uLy4uLy4uL3NyYy9wcm9jZXNzb3IvaW1hZ2UvcmVzaXplJztcbmltcG9ydCB7IFNoYXJwQnVmZmVyU3RvcmUgfSBmcm9tICcuLi8uLi8uLi9zcmMvc3RvcmUnO1xuaW1wb3J0IHsgbWtjdHggfSBmcm9tICcuL3V0aWxzJztcblxuXG50ZXN0KCdyZXNpemUsbF8xMDAnLCBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IGN0eCA9IGF3YWl0IG1rY3R4KCdleGFtcGxlLmpwZycpO1xuXG4gIGNvbnN0IGFjdGlvbiA9IG5ldyBSZXNpemVBY3Rpb24oKTtcbiAgYXdhaXQgYWN0aW9uLnByb2Nlc3MoY3R4LCAncmVzaXplLGxfMTAwJy5zcGxpdCgnLCcpKTtcblxuICBjb25zdCB7IGluZm8gfSA9IGF3YWl0IGN0eC5pbWFnZS50b0J1ZmZlcih7IHJlc29sdmVXaXRoT2JqZWN0OiB0cnVlIH0pO1xuXG4gIGV4cGVjdChpbmZvLndpZHRoKS50b0JlKDEwMCk7XG4gIGV4cGVjdChpbmZvLmhlaWdodCkudG9CZSg2Nyk7XG59KTtcblxudGVzdCgncmVzaXplLHNfMTAwJywgYXN5bmMgKCkgPT4ge1xuICBjb25zdCBjdHggPSBhd2FpdCBta2N0eCgnZXhhbXBsZS5qcGcnKTtcblxuICBjb25zdCBhY3Rpb24gPSBuZXcgUmVzaXplQWN0aW9uKCk7XG4gIGF3YWl0IGFjdGlvbi5wcm9jZXNzKGN0eCwgJ3Jlc2l6ZSxzXzEwMCcuc3BsaXQoJywnKSk7XG5cbiAgY29uc3QgeyBpbmZvIH0gPSBhd2FpdCBjdHguaW1hZ2UudG9CdWZmZXIoeyByZXNvbHZlV2l0aE9iamVjdDogdHJ1ZSB9KTtcblxuICBleHBlY3QoaW5mby53aWR0aCkudG9CZSgxNTApO1xuICBleHBlY3QoaW5mby5oZWlnaHQpLnRvQmUoMTAwKTtcbn0pO1xuXG50ZXN0KCdyZXNpemUsc18xMDAsbF8xMDAnLCBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IGN0eCA9IGF3YWl0IG1rY3R4KCdleGFtcGxlLmpwZycpO1xuXG4gIGNvbnN0IGFjdGlvbiA9IG5ldyBSZXNpemVBY3Rpb24oKTtcbiAgYXdhaXQgYWN0aW9uLnByb2Nlc3MoY3R4LCAncmVzaXplLHNfMTAwLGxfMTAwJy5zcGxpdCgnLCcpKTtcblxuICBjb25zdCB7IGluZm8gfSA9IGF3YWl0IGN0eC5pbWFnZS50b0J1ZmZlcih7IHJlc29sdmVXaXRoT2JqZWN0OiB0cnVlIH0pO1xuXG4gIGV4cGVjdChpbmZvLndpZHRoKS50b0JlKDEwMCk7XG4gIGV4cGVjdChpbmZvLmhlaWdodCkudG9CZSg2Nyk7XG59KTtcblxudGVzdCgncmVzaXplLGxfMTAwLHNfMTAwLG1fZml4ZWQsbGltaXRfMCcsIGFzeW5jICgpID0+IHtcbiAgY29uc3QgY3R4ID0gYXdhaXQgbWtjdHgoJ2V4YW1wbGUuanBnJyk7XG5cbiAgY29uc3QgYWN0aW9uID0gbmV3IFJlc2l6ZUFjdGlvbigpO1xuICBhd2FpdCBhY3Rpb24ucHJvY2VzcyhjdHgsICdyZXNpemUsbF8xMDAsc18xMDAsbV9maXhlZCxsaW1pdF8wJy5zcGxpdCgnLCcpKTtcblxuICBjb25zdCB7IGluZm8gfSA9IGF3YWl0IGN0eC5pbWFnZS50b0J1ZmZlcih7IHJlc29sdmVXaXRoT2JqZWN0OiB0cnVlIH0pO1xuXG4gIGV4cGVjdChpbmZvLndpZHRoKS50b0JlKDEwMCk7XG4gIGV4cGVjdChpbmZvLmhlaWdodCkudG9CZSgxMDApO1xufSk7XG5cbnRlc3QoJ2FuaW1hdGVkIGdpZjogcmVzaXplLHdfMTAwJywgYXN5bmMgKCkgPT4ge1xuICBjb25zdCBjdHggPSBhd2FpdCBta2N0eCgnZXhhbXBsZS5naWYnLCBbXSk7XG5cbiAgY29uc3QgYWN0aW9uID0gbmV3IFJlc2l6ZUFjdGlvbigpO1xuICBhd2FpdCBhY3Rpb24ucHJvY2VzcyhjdHgsICdyZXNpemUsd18xMDAnLnNwbGl0KCcsJykpO1xuXG4gIGNvbnN0IHsgZGF0YSwgaW5mbyB9ID0gYXdhaXQgY3R4LmltYWdlLnRvQnVmZmVyKHsgcmVzb2x2ZVdpdGhPYmplY3Q6IHRydWUgfSk7XG5cbiAgZXhwZWN0KGluZm8ud2lkdGgpLnRvQmUoMTAwKTtcbiAgZXhwZWN0KGluZm8uZm9ybWF0KS50b0JlKCdnaWYnKTtcblxuICBjb25zdCBtZXRhZGF0YSA9IGF3YWl0IHNoYXJwKGRhdGEsIHsgYW5pbWF0ZWQ6IHRydWUgfSkubWV0YWRhdGEoKTtcblxuICBleHBlY3QobWV0YWRhdGEucGFnZXMpLnRvQmUoMyk7XG59KTtcblxudGVzdCgncmVzaXplIGFjdGlvbiB2YWxpZGF0ZScsICgpID0+IHtcbiAgY29uc3QgYWN0aW9uID0gbmV3IFJlc2l6ZUFjdGlvbigpO1xuICBjb25zdCBwYXJhbTEgPSBhY3Rpb24udmFsaWRhdGUoJ3Jlc2l6ZSxtX21maXQsaF8xMDAsd18xMDAsLCcuc3BsaXQoJywnKSk7XG4gIGNvbnN0IHBhcmFtMiA9IGFjdGlvbi52YWxpZGF0ZSgncmVzaXplLG1fZmlsbCxoXzAsd18wLCwnLnNwbGl0KCcsJykpO1xuXG4gIGV4cGVjdChwYXJhbTEpLnRvRXF1YWwoe1xuICAgIHc6IDEwMCxcbiAgICBoOiAxMDAsXG4gICAgbTogJ21maXQnLFxuICAgIGxpbWl0OiB0cnVlLFxuICAgIGNvbG9yOiAnI0ZGRkZGRicsXG4gIH0pO1xuICBleHBlY3QocGFyYW0yKS50b0VxdWFsKHtcbiAgICB3OiAwLFxuICAgIGg6IDAsXG4gICAgbTogJ2ZpbGwnLFxuICAgIGxpbWl0OiB0cnVlLFxuICAgIGNvbG9yOiAnI0ZGRkZGRicsXG4gIH0pO1xuICBleHBlY3QoKCkgPT4ge1xuICAgIGFjdGlvbi52YWxpZGF0ZSgncmVzaXplLG1fdW5rb3duJy5zcGxpdCgnLCcpKTtcbiAgfSkudG9UaHJvd0Vycm9yKC9Vbmtvd24gbS8pO1xuICBleHBlY3QoKCkgPT4ge1xuICAgIGFjdGlvbi52YWxpZGF0ZSgncmVzaXplLG1fJy5zcGxpdCgnLCcpKTtcbiAgfSkudG9UaHJvd0Vycm9yKC9Vbmtvd24gbS8pO1xuICBleHBlY3QoKCkgPT4ge1xuICAgIGFjdGlvbi52YWxpZGF0ZSgncmVzaXplLHh4Jy5zcGxpdCgnLCcpKTtcbiAgfSkudG9UaHJvd0Vycm9yKC9Vbmtvd24gcGFyYW0vKTtcbn0pO1xuXG50ZXN0KCdyZXNpemUgYWN0aW9uIHNpbXBsZScsIGFzeW5jICgpID0+IHtcbiAgY29uc3QgYnMgPSBuZXcgU2hhcnBCdWZmZXJTdG9yZShzaGFycCh7XG4gICAgY3JlYXRlOiB7XG4gICAgICB3aWR0aDogNTAsXG4gICAgICBoZWlnaHQ6IDUwLFxuICAgICAgY2hhbm5lbHM6IDMsXG4gICAgICBiYWNrZ3JvdW5kOiAncmVkJyxcbiAgICB9LFxuICB9KS5wbmcoKSk7XG4gIGNvbnN0IGN0eCA9IGF3YWl0IG1rY3R4KCcnLCB1bmRlZmluZWQsIGJzKTtcbiAgY29uc3QgYWN0aW9uID0gbmV3IFJlc2l6ZUFjdGlvbigpO1xuICBhd2FpdCBhY3Rpb24ucHJvY2VzcyhjdHgsICdyZXNpemUsd18xMCxoXzEwJy5zcGxpdCgnLCcpKTtcbiAgY29uc3QgeyBpbmZvIH0gPSBhd2FpdCBjdHguaW1hZ2UudG9CdWZmZXIoeyByZXNvbHZlV2l0aE9iamVjdDogdHJ1ZSB9KTtcblxuICBleHBlY3QoaW5mby53aWR0aCkudG9CZSgxMCk7XG4gIGV4cGVjdChpbmZvLmhlaWdodCkudG9CZSgxMCk7XG59KTtcblxudGVzdCgncmVzaXplIGFjdGlvbiBtX2xmaXQnLCBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IGJzID0gbmV3IFNoYXJwQnVmZmVyU3RvcmUoc2hhcnAoe1xuICAgIGNyZWF0ZToge1xuICAgICAgd2lkdGg6IDIwMCxcbiAgICAgIGhlaWdodDogMTAwLFxuICAgICAgY2hhbm5lbHM6IDMsXG4gICAgICBiYWNrZ3JvdW5kOiAnZ3JheScsXG4gICAgfSxcbiAgfSkucG5nKCkpO1xuICBjb25zdCBjdHggPSBhd2FpdCBta2N0eCgnJywgdW5kZWZpbmVkLCBicyk7XG4gIGNvbnN0IGFjdGlvbiA9IG5ldyBSZXNpemVBY3Rpb24oKTtcbiAgYXdhaXQgYWN0aW9uLnByb2Nlc3MoY3R4LCAncmVzaXplLHdfMTUwLGhfODAsbV9sZml0Jy5zcGxpdCgnLCcpKTtcbiAgY29uc3QgeyBpbmZvIH0gPSBhd2FpdCBjdHguaW1hZ2UudG9CdWZmZXIoeyByZXNvbHZlV2l0aE9iamVjdDogdHJ1ZSB9KTtcblxuICBleHBlY3QoaW5mby53aWR0aCkudG9CZSgxNTApO1xuICBleHBlY3QoaW5mby5oZWlnaHQpLnRvQmUoNzUpO1xufSk7XG5cbnRlc3QoJ3Jlc2l6ZSBhY3Rpb24gbV9tZml0JywgYXN5bmMgKCkgPT4ge1xuICBjb25zdCBicyA9IG5ldyBTaGFycEJ1ZmZlclN0b3JlKHNoYXJwKHtcbiAgICBjcmVhdGU6IHtcbiAgICAgIHdpZHRoOiAyMDAsXG4gICAgICBoZWlnaHQ6IDEwMCxcbiAgICAgIGNoYW5uZWxzOiAzLFxuICAgICAgYmFja2dyb3VuZDogJ2dyYXknLFxuICAgIH0sXG4gIH0pLnBuZygpKTtcbiAgY29uc3QgY3R4ID0gYXdhaXQgbWtjdHgoJycsIHVuZGVmaW5lZCwgYnMpO1xuICBjb25zdCBhY3Rpb24gPSBuZXcgUmVzaXplQWN0aW9uKCk7XG4gIGF3YWl0IGFjdGlvbi5wcm9jZXNzKGN0eCwgJ3Jlc2l6ZSx3XzE1MCxoXzgwLG1fbWZpdCcuc3BsaXQoJywnKSk7XG4gIGNvbnN0IHsgaW5mbyB9ID0gYXdhaXQgY3R4LmltYWdlLnRvQnVmZmVyKHsgcmVzb2x2ZVdpdGhPYmplY3Q6IHRydWUgfSk7XG5cbiAgZXhwZWN0KGluZm8ud2lkdGgpLnRvQmUoMTYwKTtcbiAgZXhwZWN0KGluZm8uaGVpZ2h0KS50b0JlKDgwKTtcbn0pO1xuXG50ZXN0KCdyZXNpemUgYWN0aW9uIG1fZmlsbCcsIGFzeW5jICgpID0+IHtcbiAgY29uc3QgYnMgPSBuZXcgU2hhcnBCdWZmZXJTdG9yZShzaGFycCh7XG4gICAgY3JlYXRlOiB7XG4gICAgICB3aWR0aDogMjAwLFxuICAgICAgaGVpZ2h0OiAxMDAsXG4gICAgICBjaGFubmVsczogMyxcbiAgICAgIGJhY2tncm91bmQ6ICdncmF5JyxcbiAgICB9LFxuICB9KS5wbmcoKSk7XG4gIGNvbnN0IGN0eCA9IGF3YWl0IG1rY3R4KCcnLCB1bmRlZmluZWQsIGJzKTtcbiAgY29uc3QgYWN0aW9uID0gbmV3IFJlc2l6ZUFjdGlvbigpO1xuICBhd2FpdCBhY3Rpb24ucHJvY2VzcyhjdHgsICdyZXNpemUsd18xNTAsaF84MCxtX2ZpbGwnLnNwbGl0KCcsJykpO1xuICBjb25zdCB7IGluZm8gfSA9IGF3YWl0IGN0eC5pbWFnZS50b0J1ZmZlcih7IHJlc29sdmVXaXRoT2JqZWN0OiB0cnVlIH0pO1xuXG4gIGV4cGVjdChpbmZvLndpZHRoKS50b0JlKDE1MCk7XG4gIGV4cGVjdChpbmZvLmhlaWdodCkudG9CZSg4MCk7XG59KTtcblxudGVzdCgncmVzaXplIGFjdGlvbiBtX3BhZCcsIGFzeW5jICgpID0+IHtcbiAgY29uc3QgYnMgPSBuZXcgU2hhcnBCdWZmZXJTdG9yZShzaGFycCh7XG4gICAgY3JlYXRlOiB7XG4gICAgICB3aWR0aDogMjAwLFxuICAgICAgaGVpZ2h0OiAxMDAsXG4gICAgICBjaGFubmVsczogMyxcbiAgICAgIGJhY2tncm91bmQ6ICdncmF5JyxcbiAgICB9LFxuICB9KS5wbmcoKSk7XG4gIGNvbnN0IGN0eCA9IGF3YWl0IG1rY3R4KCcnLCB1bmRlZmluZWQsIGJzKTtcbiAgY29uc3QgYWN0aW9uID0gbmV3IFJlc2l6ZUFjdGlvbigpO1xuICBhd2FpdCBhY3Rpb24ucHJvY2VzcyhjdHgsICdyZXNpemUsd18xNTAsaF84MCxtX3BhZCcuc3BsaXQoJywnKSk7XG4gIGNvbnN0IHsgaW5mbyB9ID0gYXdhaXQgY3R4LmltYWdlLnRvQnVmZmVyKHsgcmVzb2x2ZVdpdGhPYmplY3Q6IHRydWUgfSk7XG5cbiAgZXhwZWN0KGluZm8ud2lkdGgpLnRvQmUoMTUwKTtcbiAgZXhwZWN0KGluZm8uaGVpZ2h0KS50b0JlKDgwKTtcbn0pO1xuXG50ZXN0KCdyZXNpemUgYWN0aW9uIHBfMTAwJywgYXN5bmMgKCkgPT4ge1xuICBjb25zdCBicyA9IG5ldyBTaGFycEJ1ZmZlclN0b3JlKHNoYXJwKHtcbiAgICBjcmVhdGU6IHtcbiAgICAgIHdpZHRoOiAxMDAsXG4gICAgICBoZWlnaHQ6IDEwMCxcbiAgICAgIGNoYW5uZWxzOiAzLFxuICAgICAgYmFja2dyb3VuZDogJ2dyYXknLFxuICAgIH0sXG4gIH0pLnBuZygpKTtcbiAgY29uc3QgY3R4ID0gYXdhaXQgbWtjdHgoJycsIHVuZGVmaW5lZCwgYnMpO1xuICBjb25zdCBhY3Rpb24gPSBuZXcgUmVzaXplQWN0aW9uKCk7XG4gIGF3YWl0IGFjdGlvbi5wcm9jZXNzKGN0eCwgJ3Jlc2l6ZSxwXzEwMCcuc3BsaXQoJywnKSk7XG4gIGNvbnN0IHsgaW5mbyB9ID0gYXdhaXQgY3R4LmltYWdlLnRvQnVmZmVyKHsgcmVzb2x2ZVdpdGhPYmplY3Q6IHRydWUgfSk7XG5cbiAgZXhwZWN0KGluZm8ud2lkdGgpLnRvQmUoMTAwKTtcbiAgZXhwZWN0KGluZm8uaGVpZ2h0KS50b0JlKDEwMCk7XG59KTtcblxudGVzdCgncmVzaXplIGFjdGlvbiBwXzUwJywgYXN5bmMgKCkgPT4ge1xuICBjb25zdCBicyA9IG5ldyBTaGFycEJ1ZmZlclN0b3JlKHNoYXJwKHtcbiAgICBjcmVhdGU6IHtcbiAgICAgIHdpZHRoOiAxMDAsXG4gICAgICBoZWlnaHQ6IDEwMCxcbiAgICAgIGNoYW5uZWxzOiAzLFxuICAgICAgYmFja2dyb3VuZDogJ2dyYXknLFxuICAgIH0sXG4gIH0pLnBuZygpKTtcbiAgY29uc3QgY3R4ID0gYXdhaXQgbWtjdHgoJycsIHVuZGVmaW5lZCwgYnMpO1xuICBjb25zdCBhY3Rpb24gPSBuZXcgUmVzaXplQWN0aW9uKCk7XG4gIGF3YWl0IGFjdGlvbi5wcm9jZXNzKGN0eCwgJ3Jlc2l6ZSxwXzUwJy5zcGxpdCgnLCcpKTtcbiAgY29uc3QgeyBpbmZvIH0gPSBhd2FpdCBjdHguaW1hZ2UudG9CdWZmZXIoeyByZXNvbHZlV2l0aE9iamVjdDogdHJ1ZSB9KTtcblxuICBleHBlY3QoaW5mby53aWR0aCkudG9CZSg1MCk7XG4gIGV4cGVjdChpbmZvLmhlaWdodCkudG9CZSg1MCk7XG59KTtcblxudGVzdCgncmVzaXplIGFjdGlvbiBwXzEwMDAnLCBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IGJzID0gbmV3IFNoYXJwQnVmZmVyU3RvcmUoc2hhcnAoe1xuICAgIGNyZWF0ZToge1xuICAgICAgd2lkdGg6IDEwMCxcbiAgICAgIGhlaWdodDogMTAwLFxuICAgICAgY2hhbm5lbHM6IDMsXG4gICAgICBiYWNrZ3JvdW5kOiAnZ3JheScsXG4gICAgfSxcbiAgfSkucG5nKCkpO1xuICBjb25zdCBjdHggPSBhd2FpdCBta2N0eCgnJywgdW5kZWZpbmVkLCBicyk7XG4gIGNvbnN0IGFjdGlvbiA9IG5ldyBSZXNpemVBY3Rpb24oKTtcbiAgYXdhaXQgYWN0aW9uLnByb2Nlc3MoY3R4LCAncmVzaXplLHBfMTAwMCcuc3BsaXQoJywnKSk7XG4gIGNvbnN0IHsgaW5mbyB9ID0gYXdhaXQgY3R4LmltYWdlLnRvQnVmZmVyKHsgcmVzb2x2ZVdpdGhPYmplY3Q6IHRydWUgfSk7XG5cbiAgZXhwZWN0KGluZm8ud2lkdGgpLnRvQmUoMTAwMCk7XG4gIGV4cGVjdChpbmZvLmhlaWdodCkudG9CZSgxMDAwKTtcbn0pO1xuXG50ZXN0KCdyZXNpemUgYWN0aW9uIGRpc2FibGUgbGltaXQnLCBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IGJzID0gbmV3IFNoYXJwQnVmZmVyU3RvcmUoc2hhcnAoe1xuICAgIGNyZWF0ZToge1xuICAgICAgd2lkdGg6IDIwLFxuICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgIGNoYW5uZWxzOiAzLFxuICAgICAgYmFja2dyb3VuZDogJ2dyYXknLFxuICAgIH0sXG4gIH0pLnBuZygpKTtcbiAgY29uc3QgY3R4ID0gYXdhaXQgbWtjdHgoJycsIHVuZGVmaW5lZCwgYnMpO1xuICBjb25zdCBhY3Rpb24gPSBuZXcgUmVzaXplQWN0aW9uKCk7XG4gIGF3YWl0IGFjdGlvbi5wcm9jZXNzKGN0eCwgJ3Jlc2l6ZSx3XzEwMCxoXzEwMCxsaW1pdF8wJy5zcGxpdCgnLCcpKTtcbiAgY29uc3QgeyBpbmZvIH0gPSBhd2FpdCBjdHguaW1hZ2UudG9CdWZmZXIoeyByZXNvbHZlV2l0aE9iamVjdDogdHJ1ZSB9KTtcblxuICBleHBlY3QoaW5mby53aWR0aCkudG9CZSgxMDApO1xuICBleHBlY3QoaW5mby5oZWlnaHQpLnRvQmUoMTAwKTtcbn0pO1xuXG50ZXN0KCdyZXNpemUgYWN0aW9uIGVuYWJsZSBsaW1pdCcsIGFzeW5jICgpID0+IHtcbiAgY29uc3QgYnMgPSBuZXcgU2hhcnBCdWZmZXJTdG9yZShzaGFycCh7XG4gICAgY3JlYXRlOiB7XG4gICAgICB3aWR0aDogMjAsXG4gICAgICBoZWlnaHQ6IDIwLFxuICAgICAgY2hhbm5lbHM6IDMsXG4gICAgICBiYWNrZ3JvdW5kOiAnZ3JheScsXG4gICAgfSxcbiAgfSkucG5nKCkpO1xuICBjb25zdCBjdHggPSBhd2FpdCBta2N0eCgnJywgdW5kZWZpbmVkLCBicyk7XG4gIGNvbnN0IGFjdGlvbiA9IG5ldyBSZXNpemVBY3Rpb24oKTtcbiAgYXdhaXQgYWN0aW9uLnByb2Nlc3MoY3R4LCAncmVzaXplLHdfMTAwLGhfMTAwLGxpbWl0XzEnLnNwbGl0KCcsJykpO1xuICBjb25zdCB7IGluZm8gfSA9IGF3YWl0IGN0eC5pbWFnZS50b0J1ZmZlcih7IHJlc29sdmVXaXRoT2JqZWN0OiB0cnVlIH0pO1xuXG4gIGV4cGVjdChpbmZvLndpZHRoKS50b0JlKDIwKTtcbiAgZXhwZWN0KGluZm8uaGVpZ2h0KS50b0JlKDIwKTtcbn0pO1xuXG50ZXN0KCdyZXNpemUgYWN0aW9uIGJhZCBsaW1pdCcsIGFzeW5jICgpID0+IHtcbiAgY29uc3QgYnMgPSBuZXcgU2hhcnBCdWZmZXJTdG9yZShzaGFycCh7XG4gICAgY3JlYXRlOiB7XG4gICAgICB3aWR0aDogMjAsXG4gICAgICBoZWlnaHQ6IDIwLFxuICAgICAgY2hhbm5lbHM6IDMsXG4gICAgICBiYWNrZ3JvdW5kOiAnZ3JheScsXG4gICAgfSxcbiAgfSkucG5nKCkpO1xuICBjb25zdCBjdHggPSBhd2FpdCBta2N0eCgnJywgdW5kZWZpbmVkLCBicyk7XG4gIGNvbnN0IGFjdGlvbiA9IG5ldyBSZXNpemVBY3Rpb24oKTtcblxuICB2b2lkIGV4cGVjdChhY3Rpb24ucHJvY2VzcyhjdHgsICdyZXNpemUsd18xMDAsaF8xMDAsbGltaXRfMycuc3BsaXQoJywnKSkpLnJlamVjdHMudG9UaHJvd0Vycm9yKC9Vbmtvd24gbGltaXQvKTtcbn0pO1xuXG4vLyBOT1RFOiBTZWVtcyB0aGF0IFNoYXJwLmpzIHdpbGwgdXNlIG9yaWdpbiBpbWFnZSdzIGFzcGVjdCByYXRpbyBpbnN0ZWFkIG9mXG4vLyBpbnRlcm1lZGlhdGUgaW1hZ2UncyBhc3BlY3QgcmF0aW9cbnRlc3Quc2tpcCgncmVzaXplIGFjdGlvbiBtX2ZpeGVkIG1fbGZpdCcsIGFzeW5jICgpID0+IHtcbiAgY29uc3QgYnMgPSBuZXcgU2hhcnBCdWZmZXJTdG9yZShzaGFycCh7XG4gICAgY3JlYXRlOiB7XG4gICAgICB3aWR0aDogNDAwLFxuICAgICAgaGVpZ2h0OiAzMDAsXG4gICAgICBjaGFubmVsczogMyxcbiAgICAgIGJhY2tncm91bmQ6ICdncmF5JyxcbiAgICB9LFxuICB9KS5wbmcoKSk7XG4gIGNvbnN0IGN0eCA9IGF3YWl0IG1rY3R4KCcnLCB1bmRlZmluZWQsIGJzKTtcbiAgY29uc3QgYWN0aW9uID0gbmV3IFJlc2l6ZUFjdGlvbigpO1xuICBhd2FpdCBhY3Rpb24ucHJvY2VzcyhjdHgsICdyZXNpemUsd18yMDAsaF8xMDAsbV9maXhlZCcuc3BsaXQoJywnKSk7XG4gIGF3YWl0IGFjdGlvbi5wcm9jZXNzKGN0eCwgJ3Jlc2l6ZSx3XzE1MCxoXzEwMCxtX2xmaXQnLnNwbGl0KCcsJykpO1xuICBjb25zdCB7IGluZm8gfSA9IGF3YWl0IGN0eC5pbWFnZS50b0J1ZmZlcih7IHJlc29sdmVXaXRoT2JqZWN0OiB0cnVlIH0pO1xuXG4gIGV4cGVjdChpbmZvLndpZHRoKS50b0JlKDE1MCk7XG4gIGV4cGVjdChpbmZvLmhlaWdodCkudG9CZSg3NSk7XG59KTsiXX0=